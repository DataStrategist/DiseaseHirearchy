# minimal example
nodes <- data.frame(id = 1:3)
edges <- data.frame(from = c(1,2), to = c(1,3))
visNetwork(nodes, edges)
})
}
ui <- fluidPage(
visNetworkOutput("network")
)
shinyApp(ui = ui, server = server)
server <- function(input, output) {
output$network_proxy_nodes <- renderVisNetwork({
# minimal example
nodes <- data.frame(id = 1:3)
edges <- data.frame(from = c(1,2), to = c(1,3))
visNetwork(nodes, edges) %>% visNodes(color = "blue")
})
observe({
visNetworkProxy("network_proxy_nodes") %>%
visFocus(id = input$Focus, scale = 4)
})
observe({
visNetworkProxy("network_proxy_nodes") %>%
visNodes(color = input$color)
})
}
ui <- fluidPage(
fluidRow(
column(
width = 4,
selectInput("color", "Color :",
c("blue", "red", "green")),
selectInput("Focus", "Focus on node :",
c(1:3))
),
column(
width = 8,
visNetworkOutput("network_proxy_nodes", height = "400px")
)
)
)
shinyApp(ui = ui, server = server)
shiny::runApp(system.file("shiny", package = "visNetwork"))
shiny::runApp(system.file("shiny", package = "visNetwork"))
shiny::runApp(system.file("shiny", package = "visNetwork"))
visExport(toSave,type = "png","Overall Network",background = "#F8ECC2")
toSave2 <- visNetwork(nodes,edges,height = 9600, width = = 9600) %>% visEdges(smooth = FALSE) %>% visPhysics(stabilization = FALSE)
toSave2 <- visNetwork(nodes,edges,height = 9600, width = 9600) %>% visEdges(smooth = FALSE) %>% visPhysics(stabilization = FALSE)
visExport(toSave2,type = "png","Overall Network",background = "#F8ECC2")
gsub("(.).+","\1",HappyFamily$Parent)
HappyFamily$Parent
gsub("(.).+","\\1",HappyFamily$Parent)
gsub("(.).+","\\1",HappyFamily$Parent) %>% unique
HappyFamily$ID[is.na(HappyFamily$parent)]
is.na(HappyFamily$parent)
HappyFamily$ID[is.na(HappyFamily$Parent)]
!is.na(gsub("(.).+","\\1",HappyFamily$Parent) %>% unique)
HappyFamily$ID[is.na(HappyFamily$Parent)]
gsub("(..).+","\\1",HappyFamily$Parent) %>% unique
HappyFamily$Naames[is.na(HappyFamily$Parent)]
Categs <- HappyFamily$Naames[is.na(HappyFamily$Parent)]
gsub("(..).+","\\1",HappyFamily$Parent) %>% unique[1:length(Categs)]
gsub("(..).+","\\1",HappyFamily$Parent) %>% unique[1:length(Categs),]
gsub("(..).+","\\1",HappyFamily$Parent) %>% unique
firstLets <- gsub("(..).+","\\1",HappyFamily$Parent) %>% unique
firstLets[1:length(Categs),]
length(Categs)
1:length(Categs)
firstLets
firstLets[1:length(Categs)]
CategoriesDF <- data.frame(Categs,firstLets[1:length(Categs)])
CategoriesDF
Categs <- !is.na(Categs)
firstLets <- gsub("(..).+","\\1",HappyFamily$Parent) %>% unique
CategoriesDF <- data.frame(Categs,firstLets[1:length(Categs)])
CategoriesDF
Categs <- HappyFamily$Naames[is.na(HappyFamily$Parent)]
Categs <- Categs[!is.na(Categs)]
firstLets <- gsub("(..).+","\\1",HappyFamily$Parent) %>% unique
CategoriesDF <- data.frame(Categs,firstLets[1:length(Categs)])
CategoriesDF
firstLets <- firstLets[!is.na(firstLets)]
firstLets
CategoriesDF <- data.frame(Categs,firstLets[1:length(Categs)])
CategoriesDF
View(HappyFamily)
gsub("(..).+","",HappyFamily$Parent)
gsub("(..).+","\\1",HappyFamily$Parent)
CategoriesDF <- data.frame(Categs,L=firstLets[1:length(Categs)])
gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L
CategoriesDF$L
CategoriesDF <- data.frame(Categs,L=firstLets[1:length(Categs)],stringsAsFactors = F)
CategoriesDF$L
gsub("(..).+","\\1",HappyFamily$Parent)
CategoriesDF$L
gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L[1]
HappyFamily$Naames[gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L[1]]
!is.na(HappyFamily$Naames[gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L[1]])
nodesToKeep <- HappyFamily$Naames[gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L[1]]
nodesToKeep <- nodesToKeep[!is.na(nodesToKeep)]
nodesToKeep
nodes$name
nodes$longName %in% nodesToKeep
filteredNodes[nodes$longName %in% nodesToKeep,]
visNetwork(nodesToKeep,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
filteredNodes[nodes$longName %in% nodesToKeep,]
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
filteredNodes
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodesToKeep <- HappyFamily$Naames[gsub("(..).+","\\1",HappyFamily$Parent)==CategoriesDF$L[1]]
nodesToKeep <- nodesToKeep[!is.na(nodesToKeep)]
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
View(filteredNodes)
CategoriesDF
CategoriesDF$L[1]
gsub("H6(.+)","T6\\1",HappyFamily$Parent)
HappyFamily$Parent1 <- gsub("H6(.+)","T6\\1",HappyFamily$Parent)
Categs <- HappyFamily$Naames[is.na(HappyFamily$Parent)]
Categs <- HappyFamily$Naames[is.na(HappyFamily$Parent1)]
Categs <- Categs[!is.na(Categs)]
firstLets <- gsub("(.).+","\\1",HappyFamily$Parent1) %>% unique
firstLets
firstLets <- firstLets[!is.na(firstLets)]
CategoriesDF <- data.frame(Categs,L=firstLets[1:length(Categs)],stringsAsFactors = F)
CategoriesDF
nodesToKeep <- HappyFamily$Naames[
gsub("(..).+","\\1",HappyFamily$Parent1) == CategoriesDF$L[1]
]
nodesToKeep <- nodesToKeep[!is.na(nodesToKeep)]
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
nodesToKeep <- HappyFamily$Naames[
gsub("(.).+","\\1",HappyFamily$Parent1) == CategoriesDF$L[1]
]
nodesToKeep <- nodesToKeep[!is.na(nodesToKeep)]
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodesToKeep <- c(nodesToKeep,HappyFamily$ID[1])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
HappyFamily$ID[1]
nodesToKeep
nodesToKeep <- c(nodesToKeep,HappyFamily$Naames[1])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
gsub(.).+","",HappyFamily$Parent
gsub("(.).+","",HappyFamily$Parent
)
gsub("(.).+","\\1",HappyFamily$Parent)
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="A|B"]
gsub("(.).+","\\1",HappyFamily$Parent) =="A|B"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="A|B"] <- "A00-B99"
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99")
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
filteredNodes
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(longName)
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep$Naames,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodesToKeep$Naames
nodesToKeep
HappyFamily$Category
gsub("(.).+","\\1",HappyFamily$Parent)
gsub("(.).+","\\1",HappyFamily$Parent) =="A|B"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="A"|HappyFamily$Parent) =="B"] <- "A00-B99"
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
HappyFamily$Category[
gsub("(.).+","\\1",HappyFamily$Parent) =="A"|gsub("(.).+","\\1",HappyFamily$Parent) =="B"] <- "A00-B99"
## And lastly, add in the main node for that category :)
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep$Naames,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
HappyFamily$Naames[HappyFamily$ID=="A00-B99"]
nodesToKeep <- c(nodesToKeep,HappyFamily$Naames[HappyFamily$ID=="A00-B99"])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep$Naames,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodesToKeep
nodesToKeep
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
class(nodesToKeep)
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID=="A00-B99"])
class(nodesToKeep)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep$Naames,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visNetwork(filteredNodes,edges,main=paste("Hirarchichal Network of ",HappyFamily$Naames[HappyFamily$ID=="A00-B99"],sep="")) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodes$label <- nodes$longName
nodes$title <- paste(nodes$name,"\n Deaths: ", nodes$deaths,
"\n Internet attention: ",nodes$value,sep="")
nodes$label <- nodes$longName
visNetwork(filteredNodes,edges,main=paste("Hirarchichal Network of ",HappyFamily$Naames[HappyFamily$ID=="A00-B99"])) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
HappyFamily$Category[
gsub("(.).+","\\1",HappyFamily$Parent) =="A"|gsub("(.).+","\\1",HappyFamily$Parent) =="B"] <- "A00-B99"
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID=="A00-B99"])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges,main=paste("Hirarchichal Network of ",HappyFamily$Naames[HappyFamily$ID=="A00-B99"])) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodes$title <- paste(nodes$name,"\n",nodes$longName,"\n Deaths: ", nodes$deaths,
"\n Internet attention: ",nodes$value,sep="")
nodes$label <- nodes$longName
HappyFamily$Category[
gsub("(.).+","\\1",HappyFamily$Parent) =="A"|gsub("(.).+","\\1",HappyFamily$Parent) =="B"] <- "A00-B99"
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID=="A00-B99"])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges,main=paste("Hirarchichal Network of ",HappyFamily$Naames[HappyFamily$ID=="A00-B99"])) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
nodes$title <- paste(nodes$name,"<br>",nodes$longName,"<br> Deaths: ", nodes$deaths,
"<br> Internet attention: ",nodes$value,sep="")
HappyFamily$Category[
gsub("(.).+","\\1",HappyFamily$Parent) =="A"|gsub("(.).+","\\1",HappyFamily$Parent) =="B"] <- "A00-B99"
nodesToKeep <- HappyFamily %>% filter(Category=="A00-B99") %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID=="A00-B99"])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
visNetwork(filteredNodes,edges,main=paste("Hirarchichal Network of ",HappyFamily$Naames[HappyFamily$ID=="A00-B99"])) %>% visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
HappyFamily$ID[HappyFamily[is.na(HappyFamily$Parent)]] %>% write.table("clipboard")
HappyFamily$ID[HappyFamily[is.na(HappyFamily$Parent),]] %>% write.table("clipboard")
HappyFamily$ID[HappyFamily[is.na(HappyFamily$Parent),]]
HappyFamily[is.na(HappyFamily$Parent),]
HappyFamily$ID[is.na(HappyFamily$Parent)]
HappyFamily$ID[is.na(HappyFamily$Parent)] %>% write.table("clipboard")
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="c"|
(gsub("(.).+","\\1",HappyFamily$Parent) =="D") &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) =="D"] <- "C00-D49"
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) < 4
(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) < 4)
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="c"|
(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) <= 4)] <- "C00-D49"
HappyFamily$Category[(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) < 4)] <- "D50-D89"
HappyFamily$Category%>%unique
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="A"|
gsub("(.).+","\\1",HappyFamily$Parent) =="B"] <- "A00-B99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="c"|
(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) <= 4)] <- "C00-D49"
HappyFamily$Category[(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) < 4)] <- "D50-D89"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="E"] <- "E00-E89"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="F"] <-  "F01-F99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="E"] <-  "G00-G99"
HappyFamily$Category[(gsub("(.).+","\\1",HappyFamily$Parent) =="H" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) <= 5)] <- "H00-H59"
HappyFamily$Category[(gsub("(.).+","\\1",HappyFamily$Parent) =="H" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) > 5)] <- "H60-H95"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="I"] <-"I00-I99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="J"] <-"J00-J99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="K"] <-"K00-K95"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="L"] <-"L00-L99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="M"] <-"M00-M99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="N"] <-"N00-N99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="O"] <-"O00-O9A"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="P"] <-"P00-P96"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="Q"] <-"Q00-Q99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="R"] <-"R00-R99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="S"|
gsub("(.).+","\\1",HappyFamily$Parent) =="T"] <-"S00-T88"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="V"|
gsub("(.).+","\\1",HappyFamily$Parent) =="Y"] <- "V00-Y99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="Z"] <- "Z00-Z99"
HappyFamily$Category%>%unique
HappyFamily[is.na(HappyFamily$Category),] %>% View
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="G"] <-  "G00-G99"
HappyFamily[is.na(HappyFamily$Category),] %>% View
HappyFamily$ID[gsub("(.).+","\\1",HappyFamily$Parent) =="c"|
(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) <= 4)]
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="C"|
(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) <= 4)] <- "C00-D49"
HappyFamily[is.na(HappyFamily$Category),] %>% View
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="V"|
gsub("(.).+","\\1",HappyFamily$Parent) =="W"|
gsub("(.).+","\\1",HappyFamily$Parent) =="X"|
gsub("(.).+","\\1",HappyFamily$Parent) =="Y"] <- "V00-Y99"
HappyFamily$Category[gsub("(.).+","\\1",HappyFamily$Parent) =="Z"] <- "Z00-Z99"
HappyFamily[is.na(HappyFamily$Category),] %>% View
HappyFamily[is.na(HappyFamily$Category),] %>% View
HappyFamily$Category[(gsub("(.).+","\\1",HappyFamily$Parent) =="D" &
as.numeric(gsub(".(.).+","\\1",HappyFamily$Parent)) > 4)] <- "D50-D89"
HappyFamily[is.na(HappyFamily$Category),] %>% View
Categories <- HappyFamily$Category%>%unique
Categories <-  Categories[is.na( Categories)]
Categories
Categories <- HappyFamily$Category%>%unique
Categories <-  Categories[is.na( Categories)]
Categories
Categories <- HappyFamily$Category%>%unique
Categories <- HappyFamily$Category%>%unique
Categories
Categories <- HappyFamily$Category%>%unique
Categories <-  Categories[!is.na(Categories)]
Categories
setwd("D:/Dropbox/My projects/Health Perception Network")
for(i in Categories)
nodesToKeep <- HappyFamily %>% filter(Category==Categories) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(tHINGIE,paste("Network.deaths.popularity.",Categoreis,"html",sep=""),selfcontained = T)
}
for(i in Categories)
nodesToKeep <- HappyFamily %>% filter(Category==Categories) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categoreis,"html",sep=""),selfcontained = T)
}
for(i in Categories){
nodesToKeep <- HappyFamily %>% filter(Category==Categories) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categoreis,"html",sep=""),selfcontained = T)
}
for(i in Categories){
nodesToKeep <- HappyFamily %>% filter(Category==Categories) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categories,"html",sep=""),selfcontained = T)
}
for(i in Categories){
nodesToKeep <- HappyFamily %>% filter(Category==Categories) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
# visSave(thingie,paste("Network.deaths.popularity.",Categories,"html",sep=""),selfcontained = T)
}
for(i in 1:nrow(Categories)){
nodesToKeep <- HappyFamily %>% filter(Category==i) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==i])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==i])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",i,"html",sep=""),selfcontained = T)
}
1:nrow(Categories)
Categories <- HappyFamily$Category%>%unique
Categories <-  Categories[!is.na(Categories)]
1:nrow(Categories)
1:length(Categories)
for(i in 1:length(Categories)){
nodesToKeep <- HappyFamily %>% filter(Category==i) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==i])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==i])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",i,"html",sep=""),selfcontained = T)
}
for(i in 1:length(Categories)){
nodesToKeep <- HappyFamily %>% filter(Category==i) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==i])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories[i]])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categories[i],"html",sep=""),selfcontained = T)
}
for(i in 1:length(Categories)){
nodesToKeep <- HappyFamily %>% filter(Category==i) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==i])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories[i]])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categories[i],".html",sep=""),selfcontained = T)
}
i=1
nodesToKeep <- HappyFamily %>% filter(Category==Categories[i]) %>% select(Naames)
nodesToKeep
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==i])
nodesToKeep
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories[i]])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
thingie
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID==Categories[i]])
Categories[i]
nodesToKeep <- HappyFamily %>% filter(Category==Categories[i]) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID == Categories[i]])
nodesToKeep
for(i in 1:length(Categories)){
nodesToKeep <- HappyFamily %>% filter(Category==Categories[i]) %>% select(Naames)
## And lastly, add in the main node for that category :)
nodesToKeep <- c(nodesToKeep$Naames,HappyFamily$Naames[HappyFamily$ID == Categories[i]])
## and now limit the nodes frame to those nodes... we don't need to worry about the edges
## since they need nodes to plot :)
filteredNodes <- nodes[nodes$longName %in% nodesToKeep,]
## PLOT!!!!!!!!
thingie <- visNetwork(filteredNodes,edges,
main=paste("Hirarchichal Network of ",
HappyFamily$Naames[HappyFamily$ID==Categories[i]])) %>%
visEdges(smooth = FALSE) %>%
visPhysics(stabilization = FALSE)
visSave(thingie,paste("Network.deaths.popularity.",Categories[i],".html",sep=""),selfcontained = T)
}
